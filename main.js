(()=>{"use strict";var e=document.querySelector("#card-template").content,t=document.querySelector(".content").querySelector(".places__list");function n(e){e.remove()}function o(e){e.classList.toggle("card__like-button_is-active")}function c(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",u)}function r(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",u)}function u(e){"Escape"===e.key&&r(document.querySelector(".popup_is-opened"))}var p=document.querySelectorAll(".popup"),i=document.querySelectorAll(".popup__close"),l=document.querySelector(".popup__image"),d=document.querySelector(".popup_type_image"),a=document.querySelector(".popup__caption"),_=document.querySelector(".profile__edit-button"),s=document.querySelector(".popup_type_edit"),m=document.forms["edit-profile"],y=m.querySelector(".popup__input_type_name"),f=m.querySelector(".popup__input_type_description"),v=document.querySelector(".profile__title"),q=document.querySelector(".profile__description"),S=document.querySelector(".profile__add-button"),k=document.querySelector(".popup_type_new-card"),E=document.forms["new-place"],L=E.querySelector(".popup__input_type_card-name"),b=E.querySelector(".popup__input_type_url");function g(e){c(d),l.src=e.link,l.alt=e.name,a.textContent=e.name}_.addEventListener("click",(function(){c(s)})),S.addEventListener("click",(function(){c(k)})),i.forEach((function(e){var t=e.closest(".popup");e.addEventListener("click",(function(){return r(t)}))})),p.forEach((function(e){e.addEventListener("mousedown",(function(t){t.currentTarget===t.target&&r(e)}))})),m.addEventListener("submit",(function(e){e.preventDefault(),v.textContent=y.value,q.textContent=f.value,r(s)})),E.addEventListener("submit",(function(c){c.preventDefault();var u,p,i,l,d,a,_,s,m={name:L.value,link:b.value},y=(u=m,p=n,i=o,l=g,a=(d=e.querySelector(".card").cloneNode(!0)).querySelector(".card__delete-button"),_=d.querySelector(".card__like-button"),s=d.querySelector(".card__image"),d.querySelector(".card__title").textContent=u.name,s.src=u.link,s.alt=u.name,a.addEventListener("click",(function(){p(d)})),_.addEventListener("click",(function(){return i(_)})),s.addEventListener("click",(function(){l(u)})),d);t.prepend(y),r(k)}))})();